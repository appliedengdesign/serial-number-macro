%
O5000 (S/N ENGRAVING SUBPROGRAM)

( PROGRAM ENGRAVES 4 DIGIT SERIAL NUMBER )

( VERSION 0.2 )
( COPYRIGHT MIKE CENTOLA // APPLIED ENG & DESIGN )
( LICENSED UNDER GNU V3 )

(VARIABLES PASSED)
( #1 = A = SERIAL NUMBER TO ENGRAVE )
( #4 = I = ANGLE OF ROTATION )
( #5 = J = SCALE FACTOR / TEXT HEIGHT = 1.0 )
( #6 = K = LETTER SPACING )
( #8 = E = PLUNGE FEED RATE )
( #9 = F = ENGRAVING FEED RATE )
( #18 = R = CLEARANCE / RETRACT PLANE )
( #24 = X = START X )
( #25 = Y = START Y )
( #26 = Z = ENGRAVING DEPTH )

( CALL WITH G65 P5000 A I J K E F R X Y Z )

IF [ #1 EQ #0 ] THEN #3000=99 (NO SERIAL NUMBER)

#800 = #4003
#801 = #4001

( FEED RATES )
IF [ #9 EQ #0 ] #9 = #4109
IF [ #8 EQ #0 ] #8 = #9

( ROTATION / SCALING / KERNING )
IF [ #4 EQ #0 ] #4 = 0.0
IF [ #5 EQ #0 ] #5 = 1.0
IF [ #6 EQ #0 ] #6 = 1.1504

G103 P1





N1

( GO TO FIRST LOCATION )
G00 X#24 Y#25
G01 Z#18 F#9

( SET DEPTH TO BE CORRECT AFTER SCALING )
#802 = [ [ #5003 - #26 ] / #5 ]

#101 = 0

G91

( ROTATE TO ANGLE )
G68 R[ #4 ]

( SET SCALING )
G51 P[ #5 ]

#102 = 1
#101 = [ FIX[ #1 / 1000 ] MOD 10 ]
M97 P50 

( STEP OVER )
G50
G90 G00 X[ #24 + [ #6 * #102 ] ] Y#25
G91

( SET SCALING )
G51 P[ #5 ]

#102 = 2
#101 = [ FIX[ #1 / 100 ] MOD 10]
M97 P50 

( STEP OVER )
G50
G90 G00 X[ #24 + [ #6 * #102 ] ] Y#25
G91

( SET SCALING )
G51 P[ #5 ]

#102 = 3
#101 = [ FIX[ #1 / 10 ] MOD 10 ]
M97 P50 

( STEP OVER )
G50
G90 G00 X[ #24 + [ #6 * #102 ] ] Y#25
G91

( SET SCALING )
G51 P[ #5 ]

#102 = 4
#101 = [ FIX[ #1 / 1 ] MOD 10 ]
M97 P50
 
G00 Z[#18 + .5]

G103 G50 G69
G#700
G#701

M99

( SEEK DIGIT )
N50 
IF [ #101 EQ 0. ] THEN M97 P110
IF [ #101 EQ 1. ] THEN M97 P101
IF [ #101 EQ 2. ] THEN M97 P102
IF [ #101 EQ 3. ] THEN M97 P103
IF [ #101 EQ 4. ] THEN M97 P104
IF [ #101 EQ 5. ] THEN M97 P105
IF [ #101 EQ 6. ] THEN M97 P106
IF [ #101 EQ 7. ] THEN M97 P107
IF [ #101 EQ 8. ] THEN M97 P108
IF [ #101 EQ 9. ] THEN M97 P109

M99



(1 PROGRAM)
N101
G00 X0.071 Y-0.5
G01 Z-#802 F#8
Y0.9935 F#9
X-0.142
G00 Z#802
M99


(2 PROGRAM)
N102
G00 X0.2717 Y-0.495
G01 Z-#802 F#8
X-0.5434 F#9
X0.2248 Y0.2497

G03 X0.2441 Y0.2786 I-4.2427 J3.9633
 X0.0814 Y0.2165 I-0.2639 J0.2227
 X-0.0791 Y0.1905 I-0.2564 J0.0053
 X-0.187 Y0.0647 I-0.1726 J-0.1965
 X-0.1949 Y-0.0489 I-0.0147 J-0.354
 X-0.0865 Y-0.1787 I0.1213 J-0.169
G00 Z#802
M99


(3 PROGRAM)
N103
G00 X-0.2297 Y0.3049
G01 Z-#802 F#8

G02 X0.0394 Y0.1168 I0.249 J-0.019 F#9
 X0.1807 Y0.0836 I0.1779 J-0.1473
 X0.1655 Y-0.0243 I0.0386 J-0.3123
 X0.0909 Y-0.1602 I-0.0888 J-0.1564
 X-0.142 Y-0.2795 I-0.2728 J-0.0372
 X-0.0848 Y-0.018 I-0.0791 J0.1644
 X0.2428 Y-0.2316 I0.0002 J-0.2428
 X-0.0414 Y-0.1917 I-0.2967 J-0.0363
 X-0.1788 Y-0.0954 I-0.2009 J0.1612
 X-0.1736 Y0.014 I-0.0595 J0.343
 X-0.1331 Y0.176 I0.0778 J0.1972
G00 Z#802
M99


(4 PROGRAM)
N104
G00 X0.191 Y-0.5
G01 Z-#802 F#8
Y1. F#9
X-0.5433 Y-0.8124
X0.7046
G00 Z#802
M99


(5 PROGRAM)
N105
G00 X0.3165 Y0.491
G01 Z-#802 F#8
X-0.3475 F#9
X-0.1379 Y-0.357

G02 X0.4073 Y-0.0883 I0.1464 J-0.3084
X0.0668 Y-0.2195 I-0.204 J-0.1819
X-0.2689 Y-0.3191 I-0.365 J0.0347
X-0.3528 Y0.1251 I-0.0678 J0.3689
G00 Z#802
M99


(6 PROGRAM)
N106
G00 X-0.2924 Y0.0152
G01 Z-#802 F#8

G03 X0.5075 Y-0.437 I0.2919 J-0.1743 F#9
X-0.5075 Y0.437 I-0.2166 J0.2616
G02 X0.3434 Y0.4848 I18.0411 J-12.4133
G00 Z#802
M99


(7 PROGRAM)
N107
G00 X-0.3202 Y0.4935
G01 Z-#802 F#8
X0.6729 F#9
X-0.7101 Y-0.9935
G00 Z#802
M99


(8 PROGRAM)
N108
G00 X0.1992 Y-0.4221
G01 Z-#802 F#8

G02 X-0.4757 Y0.1345 I-0.198 J0.2082 F#9
X0.1668 Y0.2958 I0.2574 J0.0498
X0.3862 Y-0.191 I0.1095 J-0.2645
X-0.0773 Y-0.2393 I-0.248 J-0.052
G00 Z#802
X0.0297 Y0.7832
G01 Z-#802 F#8
G02 X-0.18 Y-0.3256 I-0.2183 J-0.0919 F#9
X-0.2993 Y0.2325 I-0.0522 J0.2417
X0.3888 Y0.1979 I0.25 J-0.0103
X0.0905 Y-0.1048 I-0.1334 J-0.2067
G00 Z#802
M99


(9 PROGRAM)
N109
G00 X-0.0517 Y-0.5
G01 Z-#802 F#8
X0.16 Y0.2234 F#9

G03 X0.1847 Y0.2621 I-7.9616 J5.809
X-0.5549 Y-0.0414 I-0.292 J0.1745
X0.5549 Y0.0414 I0.2629 J0.2162
G00 Z#802
M99


(0 PROGRAM)
N110
G00 X0.1392 Y-0.4606
G01 Z-#802 F#8

G02 X-0.31 Y0.0215 I-0.1398 J0.2288 F#9
X-0.1719 Y0.2929 I0.323 J0.3864
X0.0896 Y0.5043 I0.6351 J0.1473
X0.2164 Y0.1459 I0.2837 J-0.1873
X0.2074 Y-0.0593 I0.0363 J-0.265
X0.1719 Y-0.2934 I-0.3264 J-0.3884
X-0.0896 Y-0.5042 I-0.6343 J-0.1473
X-0.1138 Y-0.1077 I-0.3183 J0.2223
G00 Z#802
M99

(END NUMBERS)

%